<app-language></app-language>
<app-paragraph [paragraphs]='paragraphs'></app-paragraph>
<div class="layout">
    <div class="container-fluid" *ngIf="arr.length>0;else noData">
        <div class="row">
          <div *ngFor="let item of arr" [ngClass]="[item.orientation === 'portrait' ? 'mt-4 col-12 col-sm-6 col-md-3 grid-item' : 'mt-4 col-12 col-sm-12 col-md-6 grid-item grid-item--landscape']">
            <!-- <app-admin-modal [item]='item'></app-admin-modal> -->
            <app-modal [item]='item'></app-modal>
            <a class="fancybox fancybox-imgw"  [style.backgroundImage]="'url('+ urlParser(item.img) +')'" [href]="item.smallImg">
              <figure class="figure">
                <span class="figure__action"><i class="icon icon--zoom"></i></span>
                <figcaption class="figcaption ">
                  <div>
                    <div>
                      <i [ngClass]="[item.photographer ? 'icon icon--pictures' : 'icon icon--videos']"></i>
                      <span class="figcaption__campaign">{{item.company}}</span>
                      <span class="figcaption__author">{{item.photographer || item.director}}</span>
                    </div>
                    <div class="clearfix ">
                      <span class="figcaption__kind">{{item.kind}}</span>
                      <span class="figcaption__brand">{{item.agency}}</span>
                    </div>
                  </div>
                </figcaption>
              </figure>
            </a>
            <a (click)="onDelete(item)" >
                <button class="glyphicon glyphicon-trash btn btn-outline-danger mb-2 mr-2" aria-hidden="true">delete</button>
            </a>
         </div>
         <div class="d-flex justify-content-center col-12 bg-grey my-3">
          <div class="admin-item mt-4 mt-4 col-12 col-sm-12 col-md-5 grid-item">
              <h1>Add New Item</h1>
              <form (ngSubmit)="itemSubmit()" #addform="ngForm"> 
                <div class="row">
                    <div class="form-group col-6" >
                        <label for="agency">Agency</label>
                        <input type="text" [(ngModel)]="model.agency" name="agency" class="form-control" id="agency" required #agency="ngModel">
                        <div [hidden]="agency.valid || agency.pristine" class="alert alert-danger">
                          Agency is required
                        </div>
                      </div>
      
                      <div class="form-group col-6">
                        <label for="company">Company</label>
                        <input type="text" [(ngModel)]="model.company" name="company" class="form-control" id="company" required #company="ngModel">
                        <div [hidden]="company.valid || company.pristine" class="alert alert-danger">
                          Company is required
                        </div>
                      </div>
                </div>

                <div class="row">
                    <div class="form-group col-6">
                        <label for="kind">kind: </label>
                        <div>
                            <select placeholder="kind" [(ngModel)]="model.kind" name="kind" class="form-control" id="kind" required #kind="ngModel">
                                <option value="photographer">photographer</option>
                                <option value="director">director</option>
                            </select>
                        </div>
                        <div [hidden]="kind.valid || kind.pristine" class="alert alert-danger">
                            Kind is required
                        </div>
                    </div>

                    <div class="form-group col-6">
                        <label for="orientation">image orientation: </label>
                        <div>
                            <select [(ngModel)]="model.orientation" name="orientation" id="orientation" placeholder="orientation" class="form-control" required #orientation="ngModel">
                                <option value="portrait">portrait</option>
                                <option value="landscape">landscape</option>
                            </select>
                        </div>
                        <div [hidden]="orientation.valid || orientation.pristine" class="alert alert-danger">
                            orientation is required
                        </div>
                    </div>
                </div>             

                <div class="form-group">
                    <label for="authour">{{model.kind === 'director' ? 'director' : 'photographer'}}</label>
                    <input type="text" [(ngModel)]="model.authour" name="authour" class="form-control" id="authour"  #director="ngModel">
                </div>

                <div class="form-group">
                    <label for="img">{{model.kind === 'director' ? 'youtube url': 'img'}}</label>
                    <input type="text" [(ngModel)]="model.img" name="img" class="form-control" id="img" required #img="ngModel">
                    <div [hidden]="img.valid || img.pristine" class="alert alert-danger">
                        img is required
                    </div>
                  </div>

                <div [ngClass]="[model.kind === 'director' ? 'hidden--xs-up' : 'show form-group']" >
                    <label for="smallImg">smallImg</label>
                    <input type="text" [(ngModel)]="model.smallImg" name="smallImg" class="form-control" id="smallImg"  #smallImg="ngModel">
                </div>
                <button type="submit" class="btn btn-primary form-control" [disabled]="!addform.form.valid">Add Item</button>
                <br>  
              </form>
            </div>
          </div>
        </div>
      </div>
    
    
    
    <div class="container">
      <ng-template #noData>
        <hr>
        <h5>There are no items to display</h5>
      </ng-template>
    </div>
    
</div>
